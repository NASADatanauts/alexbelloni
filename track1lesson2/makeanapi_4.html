<!DOCTYPE html>
<head>
	<title>Track 1: Intro to Coding | Datanauts</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="" />

	<meta name="author" content="Alexandre Belloni Alves">
	<meta charset="UTF-8">

	<link rel="icon" href="../favicon.ico" />

    <!-- bring in jquery -->
    <script src="https://code.jquery.com/jquery-2.0.3.js"></script>
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />

	<link href="main.css" rel="stylesheet" type="text/css">
	<link href='../css/main.css' rel='stylesheet' type='text/css'>	
</head>
<body>

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">

			<div class="row">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="col-md-3 col-sm-3 col-xs-12">

					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a id='logo' href="./../index.html" class="navbar-brand">
							<img src="../images/logo.png" class="img-circle" alt="alexandre belloni"> <span></span>
						</a>
					</div>
				</div>

				<div class="navbar-title col-md-9 col-sm-9 col-xs-12">
					<div class="navbar-collapse collapse menu">
						<ul id="top-menu" class="nav navbar-nav navbar-right">
							<li><a href="./../index.html"><span  class="red-color">HOME</span></a>
							</li>
						</ul>
					</div>
					<!-- /.navbar-collapse -->
				</div>
			</div>
			<!-- /.row -->
		</div>

	</nav>

	<section class='container firstdiv'>
		<h3 class='dn-bold text-center'>Track 1: Intro to Coding</h3>
		<h2 class='dn-bold dn-green text-center'>MAKE AN API</h2>

		<p>The goal of this lesson is to demonstrate <b>a way</b> to take <b>scientific data</b> and put onto the web as an <b>API</b>. To do this, we will use the NASA Data Portal, data.nasa.gov.</p>

		<section id='menu' class='navigation-area text-center'>
		</section>

		<section>
			<h2 class='dn-title text-center'>Access your API</h2>

			<p id='project-id-field' style='padding:5px;font-size:16px;color:black;background-color:#64c37d;display:none'>
				I miss this information:<br/>
				What's your PROJECT ID?
				<input id='txtProjectId' type='text'></input>
				<input type='button' class='btn btn-info' value='Ready' onclick='saveProjectId();createSteps();'></input>
				<br/><span id='lblProjectId'></span>
			</p>
			<section id='steps'>
			</section>
		</section>

		<section>
			<p style='margin:15px;color:green' class='text-center'>I hope this track has been helpful.</p>
			<br/>
			<p>Resources</p>
			<p style='font-size:14px'><a href='https://firebase.google.com/docs/reference/js/firebase.database' target='_blank'>Firebase Reference Guide</a></p>			
			<p style='font-size:14px'><a href='https://en.wikipedia.org/wiki/JSON' target='_blank'>What is JSON?</a></p>	
			<p style='font-size:14px'><a href='https://en.wikipedia.org/wiki/Application_programming_interface' target='_blank'>Application Programming Interface</a></p>	
			<p style='font-size:14px'><a href='https://www.youtube.com/watch?v=s7wmiS2mSXY' target='_blank'>What is an API?</a> (video)</p>	
			<p style='font-size:14px'><a href='https://www.youtube.com/watch?v=7YcW25PHnAA' target='_blank'>REST API concepts and examples</a> (video)</p>		
			<p style='font-size:14px'><a href='../index.html'>My NASA Datanauts site</a></p>
			<p style='font-size:14px'>My email: alexbelloni at outlook dot com</p>	
			<br/>
			<p>Others</p>
			<p style='font-size:14px'><a href='http://codebeautify.org/excel-to-json'>Excel format to JSON</a></p>
		</section>		
	</section>

    <footer class="container-fluid text-center ">
        <p>2018 - @AlexandreBelloniAlves</p>
    </footer>

<script src='presentation.js'></script>

<script>

	window.onload = function(){

		addMenu('d');

		createSteps();
	}

	function createSteps(){

		var array = new Array();

		var projectId = loadProjectId();

		if(!projectId){
			$('#project-id-field').show();
		} else
		{
			$('#project-id-field').hide();
		}

		var html;

		html = `
					<p>Finally, we have our <b>data published</b>.</p>
					<p style='font-size:16px'>(You can use any Firebase Database URL as a REST endpoint. All you need to do is append .json to the end of the URL.)</p>
					<p>Access this URL bellow and see comet database's records.</p>
					<p>The URL model is <code>https://[PROJECT_ID].firebaseio.com/.json</code></p>
					<p>Your JSON page is here: <a href='https://`+ projectId +`.firebaseio.com/.json' target='_blank'>`+ projectId +`</a></p>
					<br/>
			`;		
		html += getHtmlDialog('modal4', 'Database and API', 'pres04.png');			
		html = getHtmlStep('api40.jpg',html);
		array.push(html);

		html = `
					<p>Let's improve this page!</p>
					<p>Using Firebase platform, we can use its benefits through its API and a programming language.</p>
					
					<p>First of all, we need to get the API KEY on your project page.</p>
			`;		
		html = getHtmlStep('api43.jpg',html);
		array.push(html);

		html = `
					<p>Access your developer area: <a href='https://console.developers.google.com/apis/credentials?project=`+ projectId +`&pli=1' target='_blank'>`+ projectId +`</a></p>
					<p><code>https://console.developers.google.com/apis/credentials?project=PROJECT_ID&pli=1</code></p>
					<p>The image above shows the <b>KEY</b> that you need to copy.</p>
					<br/>
					<p style='padding:5px;font-size:16px;color:black;background-color:#64c37d'>
						What's your API KEY?
						<input id='txtApiKey' type='text'></input>
						<input type='button' class='btn btn-info' value='Ready' onclick='setApiKey()'></input>
						<br/><span id='lblApiKey2'></span>
					</p>					
			`;		
		html = getHtmlStep('',html);
		array.push(html);

		html = `
					<p>On Github, we have a template page with a grid to show our comet data.</p>
					<p>'Save as' this <a href='https://raw.githubusercontent.com/NASADatanauts/alexbelloni/master/track1lesson2/comets.html' target='_blank'>comet.html file</a> on your computer.</p>
					<p>The code Javascript of this html page will uses your Firebase API and creates html elements for each comet information.</p>
					<p>Copy the code bellow.</p>
					<p>
						<code>
	var myApiKey = '<span id='lblApiKey'></span>';<br/>
	var myProjectId = '`+ projectId +`';
						</code>
					</p>					
					<p>Open your file by using a HTML editor.</p>
					<p>Replace the YOUR_API_KEY and YOUR_PROJECT_ID variables (line 19 and 20) to your key and id.</p>
			`;		
		html = getHtmlStep('', html);
		array.push(html);

		html = `
					<p><b>Save</b> your file.</p>
					<p>Perfect!</p> 
					<img alt='thumbs up' src='./images/rocket.png' />
					<br/>
					<p>Open your file on a browser (For example: Chrome) and see the result.</p>
					<br/>
					<p>If you change your data on Firebase, it'll be showed on our page, automatically.</p>
					<p><a target='_blank' href='https://console.firebase.google.com/project/`+ projectId +`/database/data'>Our database</a></p>
					<br/>
					<p style='font-size:16px'>(Advanced plus): you can add more columns and search tools, for example.</p>
					<br/>
			`;		
		html += getHtmlDialog('modal5', 'Complete Solution', 'pres05.png');	
		html = getHtmlStep('api45.jpg',html);
		array.push(html);

		html = `
					<p>This lesson taught us how to take scientific data and put it on the web as an API <i class='fa fa-check'></i></p>
					<p>If you'd like more information or help, see the resources or contact me.</p>
			`;		
		html = getHtmlStep('',html);
		array.push(html);

		$('#steps').empty();

		array.forEach(function(element) {
			$('#steps').append(element);
		}, this);
	}

	function setApiKey(){
		var key = $('#txtApiKey').val();
		$('#txtApiKey').val('');
		$('#lblApiKey').text(key);
		$('#lblApiKey2').text(key);
	}

</script>

</body>
</html>